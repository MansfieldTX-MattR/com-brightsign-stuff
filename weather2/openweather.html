<!DOCTYPE html>
<html>
    <head>
        <link id="weather-data-url" href="/weather-data-html">
        <link id="forecast-data-url" href="/forecast-data-html">
        <style>
            #sky{
                position: fixed;
                left: 0;
                top: 0;
                z-index: -1;
            }
            .colunm{
                display: flex;
                flex-direction: column;
                align-items: center;
            }
            .row{
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: space-evenly;
            }
            main{
                text-align: center;
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                color: white;
                padding-top: 30vh;
            }
            .frame{
                background-color: rgba(0,0,0,.35);
                border-color: #d5d5d5;
                border-width: 1px;
                border-style: solid;
            }
            .current{
                font-size: 1.5em;
                padding: 1em;
                margin-left: 5%;
                margin-right: 5%;
            }
            .current > *{

            }
            .temperature{
                font-size: 3em;
            }
            .condition{

            }
            .city{
                text-transform: uppercase;
                font-weight: 900;
                letter-spacing: .1em;
            }
            .city :first-child{
                font-size: 1.2em;
            }
            .city > p{
                margin: 0;
            }
            p.condition{
                font-size: .8em;
            }
            img.condition{
                max-width: 9em;
            }
            .forecast{
                justify-content: flex-start;
                padding-top: 8%;
                margin-left: auto;
                margin-right: auto;
                width: fit-content;
                font-size: 1.2em;
            }
            .forecast-day{
                font-size: 1.8em;
                padding-left: 1em;
                padding-right: 1em;
            }
            .forecast-day > p{
                margin: 0;
            }
            .forecast-day :first-child{
                padding-top: .5em;
            }
            .forecast-day :last-child{
                padding-bottom: .5em;
            }
            .day-name{

            }
            .forecast-day > img{
                width: 2em;
            }
            .temp-hi{
                color:rgb(255, 160, 160);
            }
            .temp-lo{
                color:aqua
            }
            #info{
                display: none;
            }
        </style>
    </head>
    <body>
        <canvas id="sky"></canvas>
        <main class="column">
            <div class="current row frame">
                {% include 'weather2/includes/weather-current.html' %}
            </div>
            <div class="forecast row">
                {% include 'weather2/includes/weather-forecast.html' %}
            </div>
        </main>
        <div id="info"></div>

        <script src="//unpkg.com/suncalc@1.8.0/suncalc.js"></script>

        <!-- Import maps polyfill -->
        <!-- Remove this when import maps will be widely supported -->
        <script async src="//unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>

        <script type="importmap">
            {
                "imports": {
                "three": "//unpkg.com/three@0.152.2/build/three.module.js",
                "three/addons/": "//unpkg.com/three@0.152.2/examples/jsm/"
                }
            }
        </script>

        <script type="module" src="/static/weather2/skysim.js"></script>
        <script id="weather-json" type="application/json">{{ weather_data|tojson(2) }}</script>
        <script id="forecast-json" type="application/json">{{ weather_forecast|tojson(2) }}</script>
        <script src="/static/weather2/openweather.js"></script>
    </body>
</html>
